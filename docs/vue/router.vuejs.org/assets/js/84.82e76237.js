(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{310:function(t,s,n){"use strict";n.r(s);var e=n(0),a=Object(e.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),n("p",[t._v("Следует помнить, что "),n("strong",[t._v("изменение параметров маршрута не вызывает выполнения навигационных хуков enter/leave")]),t._v(". Вы можете добавить "),n("router-link",{attrs:{to:"./../essentials/dynamic-matching.html#отсnеживание-изменений-параметров"}},[t._v("watch на объект "),n("code",[t._v("$route")])]),t._v(" для отслеживания этих изменений, или использовать хук "),n("code",[t._v("beforeRouteUpdate")]),t._v(".")],1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._m(5),t._v(" "),n("p",[t._v("В каждый навигационный хук передаётся три параметра:")]),t._v(" "),n("ul",[n("li",[n("p",[t._m(6),t._v(": целевой "),n("router-link",{attrs:{to:"./../../api/#объект-route"}},[t._v("объект Route")]),t._v(", к которому осуществляется переход.")],1)]),t._v(" "),t._m(7),t._v(" "),n("li",[t._m(8),t._v(" "),n("ul",[t._m(9),t._v(" "),t._m(10),t._v(" "),n("li",[n("p",[t._m(11),t._v(": перенаправление на другой маршрут. Текущий переход будет отменён, и процесс начнётся заново для нового маршрута. Вы можете передать любой объект местоположения в "),n("code",[t._v("next")]),t._v(", который позволяет вам указывать опции такие как "),n("code",[t._v("replace: true")]),t._v(", "),n("code",[t._v("name: 'home'")]),t._v(" и любой другой параметр используемый во "),n("router-link",{attrs:{to:"./../../api/#to"}},[t._v("входном параметре "),n("code",[t._v("to")]),t._v(" компонента "),n("code",[t._v("router-link")])]),t._v(" или "),n("router-link",{attrs:{to:"./../../api/#router-push"}},[n("code",[t._v("router.push")])])],1)]),t._v(" "),n("li",[n("p",[t._m(12),t._v(": (добавлено в версии 2.4.0+) если аргумент, переданный "),n("code",[t._v("next")]),t._v(" является экземпляром "),n("code",[t._v("Error")]),t._v(", навигация будет прервана и ошибка будет передана в коллбэк, зарегистрированный через "),n("router-link",{attrs:{to:"./../../api/#router-onerror"}},[n("code",[t._v("router.onError()")])]),t._v(".")],1)])])])]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),n("p",[t._v("Эти хуки имеют точно такую же сигнатуру, как и глобальные хуки.")]),t._v(" "),t._m(22),t._v(" "),n("p",[t._v("Наконец, навигационный хук можно указать и непосредственно в компоненте (том, что указан в конфигурации маршрута), используя следующие опции:")]),t._v(" "),t._m(23),t._v(" "),t._m(24),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._m(28),t._v(" "),t._m(29),t._m(30),t._v(" "),t._m(31),t._m(32),t._v(" "),t._m(33)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"навигационные-хуки"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#навигационные-хуки","aria-hidden":"true"}},[this._v("#")]),this._v(" Навигационные хуки")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Как следует из названия, навигационные хуки "),s("code",[this._v("vue-router")]),this._v(" используются для перенаправлений или отмены навигационных переходов. Есть несколько способов внедрить навигационный хук: глобально, для конкретного маршрута, или для конкретного компонента.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"гnобаnьные-хуки-до-навигационных-хуков"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#гnобаnьные-хуки-до-навигационных-хуков","aria-hidden":"true"}},[this._v("#")]),this._v(" Глобальные хуки (до навигационных хуков)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Глобальный хук можно зарегистрировать через "),s("code",[this._v("router.beforeEach")]),this._v(":")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VueRouter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nrouter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Глобальные навигационные хуки вызываются в порядке их создания при каждом навигационном переходе. Допускается асинхронное разрешение хуков — в этом случае переход считается "),s("strong",[this._v("незавершённым")]),this._v(" до тех пор, пока не будут разрешены все хуки.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("strong",[s("code",[this._v("to: Route")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[s("strong",[s("code",[this._v("from: Route")])]),this._v(": текущий маршрут, с которого осуществляется переход к новому.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[s("code",[this._v("next: Function")])]),this._v(": функция, вызов которой "),s("strong",[this._v("разрешает")]),this._v(" хук. В зависимости от переданных в "),s("code",[this._v("next")]),this._v(" аргументов, результатом будет:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[s("strong",[s("code",[this._v("next()")])]),this._v(": переход к следующему хуку в цепочке. Если хуков больше нет, переход считается "),s("strong",[this._v("подтверждённым")]),this._v(".")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[s("strong",[s("code",[this._v("next(false)")])]),this._v(': отмена перехода. Если URL был изменён (вручную пользователем, или кнопкой "назад"), он будет сброшен на соответствующий маршрут '),s("code",[this._v("from")]),this._v(".")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("strong",[s("code",[this._v("next('/')")]),this._v(" или "),s("code",[this._v("next({ path: '/' })")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("strong",[s("code",[this._v("next(error)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("Убедитесь, что функция "),s("code",[this._v("next")]),this._v(" будет вызвана, иначе хук никогда не будет разрешён.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"гnобаnьные-хуки-разрешения-перехода"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#гnобаnьные-хуки-разрешения-перехода","aria-hidden":"true"}},[this._v("#")]),this._v(" Глобальные хуки разрешения перехода")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Вы можете зарегистрировать глобальный хук с помощью "),s("code",[this._v("router.beforeResolve")]),this._v(". Это похоже на "),s("code",[this._v("router.beforeEach")]),this._v(", с той разницей, что разрешающий хук будет вызван непосредственно перед подтверждением навигации, "),s("strong",[this._v("после того, как будут разрешены все хуки компонента и асинхронные компоненты для маршрута")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"гnобаnьные-хуки-завершения-перехода"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#гnобаnьные-хуки-завершения-перехода","aria-hidden":"true"}},[this._v("#")]),this._v(" Глобальные хуки завершения перехода")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Можно также зарегистрировать глобальные хуки, вызываемые после завершения перехода. Однако, в отличие от сторожевых хуков, в них не передаётся функция "),s("code",[this._v("next")]),this._v(", и на навигацию они повлиять не могут:")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("router"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"хуки-дnя-конкретных-маршрутов"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#хуки-дnя-конкретных-маршрутов","aria-hidden":"true"}},[this._v("#")]),this._v(" Хуки для конкретных маршрутов")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Навигационные хуки "),s("code",[this._v("beforeEnter")]),this._v(" можно указать напрямую для конкретного маршрута в его конфигурации:")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VueRouter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  routes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      component"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      beforeEnter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"хуки-дnя-конкретных-компонентов"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#хуки-дnя-конкретных-компонентов","aria-hidden":"true"}},[this._v("#")]),this._v(" Хуки для конкретных компонентов")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("beforeRouteEnter")])]),this._v(" "),s("li",[s("code",[this._v("beforeRouteUpdate")])]),this._v(" "),s("li",[s("code",[this._v("beforeRouteLeave")])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Foo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  template"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v("`...`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteEnter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// вызывается до подтверждения пути, соответствующего этому компоненту.")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// НЕ ИМЕЕТ доступа к контексту экземпляра компонента `this`,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// так как к моменту вызова экземпляр ещё не создан!")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteUpdate")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// вызывается когда маршрут, что рендерит этот компонент изменился,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// но этот компонент будет повторно использован в новом маршруте.")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Например, для маршрута с динамическими параметрами `/foo/:id`, когда мы")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// перемещаемся между `/foo/1` и `/foo/2`, экземпляр того же компонента `Foo`")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// будет использован повторно, и этот хук будет вызван когда это случится.")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Также имеется доступ в `this` к экземпляру компонента.")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteLeave")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// вызывается перед переходом от пути, соответствующего текущему компоненту;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// имеет доступ к контексту экземпляра компонента `this`.")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Хук "),s("code",[this._v("beforeRouteEnter")]),this._v(" "),s("strong",[this._v("НЕ ИМЕЕТ")]),this._v(" доступа к "),s("code",[this._v("this")]),this._v(", так как к моменту его вызова навигация ещё не подтверждена, а значит и экземпляр компонента ещё не создан.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Тем не менее, доступ к экземпляру можно получить, передав коллбэк в "),s("code",[this._v("next")]),this._v(". Эта функция будет вызвана после подтверждения навигации, а экземпляр компонента будет передан в неё в качестве параметра:")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteEnter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// экземпляр компонента доступен как `vm`")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[t._v("Обратите внимание, что "),n("code",[t._v("beforeRouteEnter")]),t._v(" — единственный хук, который поддерживает передачу коллбэка в "),n("code",[t._v("next")]),t._v(". Для "),n("code",[t._v("beforeRouteUpdate")]),t._v(" и "),n("code",[t._v("beforeRouteLeave")]),t._v(", "),n("code",[t._v("this")]),t._v(" уже доступен, поэтому передача коллбэка не требуется и поэтому "),n("em",[t._v("не поддерживается")]),t._v(":")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteUpdate")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// просто используйте `this`")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("Навигационный хук ухода со страницы")]),this._v(" обычно используется для предотвращения случайного ухода пользователя со страницы с несохранёнными изменениями. Навигацию можно отменить вызовом "),s("code",[this._v("next(false)")]),this._v(".")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteLeave")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" answer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("confirm")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Вы хотите уйти? У вас есть несохранённые изменения!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("answer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"поnная-цепочка-обработки-навигации"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#поnная-цепочка-обработки-навигации","aria-hidden":"true"}},[this._v("#")]),this._v(" Полная цепочка обработки навигации")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ol",[n("li",[t._v("Срабатывание навигации.")]),t._v(" "),n("li",[t._v("Вызов leave-хуков в деактивируемых компонентах.")]),t._v(" "),n("li",[t._v("Вызов глобальных "),n("code",[t._v("beforeEach")]),t._v(" хуков.")]),t._v(" "),n("li",[t._v("Вызов "),n("code",[t._v("beforeRouteUpdate")]),t._v(" хука в переиспользуемых компонентах.")]),t._v(" "),n("li",[t._v("Вызов "),n("code",[t._v("beforeEnter")]),t._v(" в конфигурации маршрута.")]),t._v(" "),n("li",[t._v("Разрешение асинхронных компонентов для маршрута.")]),t._v(" "),n("li",[t._v("Вызов "),n("code",[t._v("beforeRouteEnter")]),t._v(" в активируемых компонентах.")]),t._v(" "),n("li",[t._v("Вызов глобальных "),n("code",[t._v("beforeResolve")]),t._v(" хуков.")]),t._v(" "),n("li",[t._v("Навигация подтверждена.")]),t._v(" "),n("li",[t._v("Вызов глобальных "),n("code",[t._v("afterEach")]),t._v(" хуков.")]),t._v(" "),n("li",[t._v("Выполняется обновление DOM.")]),t._v(" "),n("li",[t._v("Вызов коллбэков, переданных в "),n("code",[t._v("next")]),t._v(" в "),n("code",[t._v("beforeRouteEnter")]),t._v(" хуке с созданными экземплярами.")])])}],!1,null,null,null);s.default=a.exports}}]);