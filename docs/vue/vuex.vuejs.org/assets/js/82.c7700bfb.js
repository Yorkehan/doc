(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{198:function(t,e,n){"use strict";n.r(e);var s=n(0),a=Object(s.a)({},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t._m(0),t._v(" "),n("VideoPreview"),t._v(" "),n("p",[t._v("Vuex — "),n("strong",[t._v("паттерн управления состоянием + библиотека")]),t._v(" для приложений на Vue.js. Он служит централизованным хранилищем данных для всех компонентов приложения с правилами, гарантирующими, что состояние может быть изменено только предсказуемым образом. Vuex интегрируется с официальным расширением "),n("a",{attrs:{href:"https://github.com/vuejs/vue-devtools",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-devtools"),n("OutboundLink")],1),t._v(", предоставляя «из коробки» такие продвинутые возможности, как «машину времени» для отладки и экспорт/импорт слепков состояния данных.")]),t._v(" "),t._m(1),t._v(" "),n("p",[t._v("Давайте начнём с простого приложения Vue, реализующего счётчик:")]),t._v(" "),t._m(2),n("p",[t._v("Это самостоятельное приложение состоит из следующих частей:")]),t._v(" "),t._m(3),t._v(" "),n("p",[t._v("Вот простейшее представление концепции «однонаправленного потока данных»:")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),n("p",[t._v("Решая первую проблему, придётся передавать одни и те же данные входными параметрами в глубоко вложенные компоненты. Это часто сложно и утомительно, а для соседних компонентов такое и вовсе не сработает. Решая вторую проблему, можно прийти к таким решениям, как обращение по ссылкам к родительским/дочерним экземплярам или попыткам изменять и синхронизировать несколько копий состояния через события. Оба подхода хрупки и быстро приводят к появлению кода, который невозможно поддерживать.")]),t._v(" "),n("p",[t._v("Так почему бы не вынести всё общее состояние приложения из компонентов и управлять им в глобальном синглтоне? При этом наше дерево компонентов становится одним большим «представлением» и любой компонент может получить доступ к состоянию приложения или вызывать действия для изменения состояния, независимо от того, где они находятся в дереве!")]),t._v(" "),n("p",[t._v("Кроме того, чётко определяя и разделяя концепции, возникающие при управлении состоянием, и требуя соблюдения определённых правил, мы лучше структурируем код и облегчаем его поддержку.")]),t._v(" "),n("p",[t._v("Это основная идея Vuex, вдохновлённого "),n("a",{attrs:{href:"https://facebook.github.io/flux/docs/overview.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Flux"),n("OutboundLink")],1),t._v(", "),n("a",{attrs:{href:"http://redux.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redux"),n("OutboundLink")],1),t._v(" и "),n("a",{attrs:{href:"https://guide.elm-lang.org/architecture/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Архитектурой Elm"),n("OutboundLink")],1),t._v(". В отличие от других паттернов, Vuex реализован в виде библиотеки, специально предназначенной для Vue.js, чтобы использовать его систему реактивности для эффективного обновления.")]),t._v(" "),n("p",[t._v("Если хотите изучить Vuex в интерактивном режиме, попробуйте этот "),n("a",{attrs:{href:"https://scrimba.com/g/gvuex",target:"_blank",rel:"noopener noreferrer"}},[t._v("курс по Vuex на Scrimba."),n("OutboundLink")],1)]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),n("p",[t._v("Хотя Vuex помогает управлять совместно используемым состоянием, это реализуется ценой привнесения новых концепций и вспомогательного кода. Компромисс, когда кратковременная продуктивность страдает на благо долгосрочной.")]),t._v(" "),n("p",[t._v("Если ещё не приходилось создавать крупные SPA и вы лишь знакомитесь с Vuex, это может показаться многословным и сложным. Всё в порядке — простые приложения могут легко обходиться и без Vuex. Возможно, будет достаточно простого паттерна "),n("a",{attrs:{href:"https://ru.vuejs.org/v2/guide/state-management.html#%D0%9F%D1%80%D0%BE%D1%81%D1%82%D0%BE%D0%B9-%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%B9%D0%BD%D0%B5%D1%80-%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F-%D1%81-%D0%BD%D1%83%D0%BB%D1%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("глобальной шины событий"),n("OutboundLink")],1),t._v(". Но если вы создаёте SPA среднего или крупного размера, то, скорее всего, уже сталкивались с ситуациями, которые заставляли задуматься о том, как лучше управлять состоянием вне компонентов Vue, а Vuex в таком случае может стать вполне естественным следующим шагом. Есть хорошая цитата от Дэна Абрамова, автора Redux:")]),t._v(" "),t._m(9)],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"что-такое-vuex"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#что-такое-vuex","aria-hidden":"true"}},[this._v("#")]),this._v(" Что такое Vuex?")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"что-такое-«паттерн-управnения-состоянием»"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#что-такое-«паттерн-управnения-состоянием»","aria-hidden":"true"}},[this._v("#")]),this._v(" Что такое «паттерн управления состоянием»?")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// состояние")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      count"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// представление")]),t._v("\n  template"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v("`\n    <div>{{ count }}</div>\n  `")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// действия")]),t._v("\n  methods"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("increment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("strong",[t._v("Состояние")]),t._v(" — «источник истины», управляющий приложением;")]),t._v(" "),n("li",[n("strong",[t._v("Представление")]),t._v(" — отображение "),n("strong",[t._v("состояния")]),t._v(" заданное декларативно;")]),t._v(" "),n("li",[n("strong",[t._v("Действия")]),t._v(" — возможные пути изменения состояния приложения в ответ на взаимодействие пользователя с "),n("strong",[t._v("представлением")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{"text-align":"center",margin:"2em"}},[e("img",{staticStyle:{width:"100%","max-width":"450px"},attrs:{src:"/ru/flow.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Однако простота быстро исчезает, когда у нас появляется "),e("strong",[this._v("нескольких компонентов, основывающихся на одном и том же состоянии")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Несколько представлений могут зависеть от одной и той же части состояния приложения.")]),this._v(" "),e("li",[this._v("Действия из разных представлений могут оказывать влияние на одни и те же части состояния приложения.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/ru/vuex.png",alt:"vuex"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"когда-сnедует-испоnьзовать-vuex"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#когда-сnедует-испоnьзовать-vuex","aria-hidden":"true"}},[this._v("#")]),this._v(" Когда следует использовать Vuex?")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("Flux-библиотеки похожи на очки: вы будете точно знать, когда они вам понадобятся.")])])}],!1,null,null,null);a.options.__file="README.md";e.default=a.exports}}]);