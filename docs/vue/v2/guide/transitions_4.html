

<!DOCTYPE html>
<html lang="ru">
    <head>
        <title>Анимирование списков и появления/исчезновения — Vue.js</title>
        <meta charset="utf-8">
        <meta name="description" content="Vue.js — Прогрессивный JavaScript-фреймворк">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <link rel="alternate" hreflang="x-default" href="transitions_2.html">
        <link rel="alternate" hreflang="zh" href="transitions.html">
        <link rel="alternate" hreflang="ja" href="transitions_6.html">
        <link rel="alternate" hreflang="ru" href="transitions_4.html">
        <link rel="alternate" hreflang="ko" href="transitions_3.html">
        <link rel="alternate" hreflang="pt-BR" href="transitions_5.html">
        <link rel="alternate" hreflang="fr" href="transitions_7.html">

        <meta property="og:type" content="article">
        <meta property="og:title" content="Анимирование списков и появления/исчезновения — Vue.js">
        <meta property="og:description" content="Vue.js — Прогрессивный JavaScript-фреймворк">
        <meta property="og:image" content="https://ru.vuejs.org//images/logo.png">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="Анимирование списков и появления/исчезновения — Vue.js">
        <meta name="twitter:description" content="Vue.js — Прогрессивный JavaScript-фреймворк">
        <meta name="twitter:image" content="https://ru.vuejs.org/images/logo.png">

        <link rel="apple-touch-icon" sizes="57x57" href="https://ru.vuejs.org/images/icons/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="https://ru.vuejs.org/images/icons/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="https://ru.vuejs.org/images/icons/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="https://ru.vuejs.org/images/icons/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="https://ru.vuejs.org/images/icons/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="https://ru.vuejs.org/images/icons/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="https://ru.vuejs.org/images/icons/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="https://ru.vuejs.org/images/icons/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="https://ru.vuejs.org/images/icons/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="https://ru.vuejs.org/images/icons/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://ru.vuejs.org/images/icons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="https://ru.vuejs.org/images/icons/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="https://ru.vuejs.org/images/icons/favicon-16x16.png">
        <meta name="msapplication-TileImage" content="/images/icons/ms-icon-144x144.png">
        <link rel="icon" href="https://ru.vuejs.org/images/logo.png" type="image/png">

        <meta name="msapplication-TileColor" content="#4fc08d">
        <meta name="theme-color" content="#4fc08d">

        <meta name="msapplication-config" content="browserconfig.xml">
        <link rel="manifest" href="https://ru.vuejs.org/manifest.json">

        <link href='https://fonts.googleapis.com/css?family=Roboto%20Mono' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Dosis:500&amp;text=Vue.js' rel='stylesheet' type='text/css'>

        <link href="" rel="stylesheet" type="text/css">

        <!-- main page styles -->
        <link rel="stylesheet" href="https://ru.vuejs.org/css/page.css">

        <!-- this needs to be loaded before guide's inline scripts -->
        <script src="https://ru.vuejs.org/js/vue.js"></script>
        <script>
          Vue.config.productionTip = false
          window.PAGE_TYPE = "guide"
        </script>

        <!-- ga -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','../../js/analytics.js','ga');
          ga('create', 'UA-46852172-1', 'ru.vuejs.org');

          ga('send', 'pageview');
        </script>

        <!-- vimeo analytics -->
        <script type="text/javascript" defer="defer" src="https://extend.vimeocdn.com/ga/72160148.js"></script>
    </head>
    <body class="docs">
        <div id="mobile-bar" >
            <a class="menu-button"></a>
            <a class="logo" href="https://ru.vuejs.org/"></a>
        </div>
        <div id="header">
  <a id="logo" href="https://ru.vuejs.org/">
    <img src="https://ru.vuejs.org/images/logo.png" alt="Логотип Vue">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Обучение</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="https://ru.vuejs.org/v2/guide/" class="nav-link current">Руководство</a></li>
      <li><a href="https://ru.vuejs.org/v2/api/" class="nav-link">API</a></li>
      <li><a href="https://ru.vuejs.org/v2/style-guide/" class="nav-link">Рекомендации</a></li>
      <li><a href="https://ru.vuejs.org/v2/examples/" class="nav-link">Примеры</a></li>
      <li><a href="https://ru.vuejs.org/v2/cookbook/" class="nav-link">Книга рецептов</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Экосистема</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Помощь</h4></li>
    <li><ul>
      <li><a href="../../forum_vuejs_default.html" class="nav-link" target="_blank">Форум</a></li>
      <li><a href="https://chat.vuejs.org/" class="nav-link" target="_blank">Чат</a></li>
      <li><a href="../../meetups/meetups.html" class="nav-link" target="_blank">Митапы</a></li>
    </ul></li>
    <li><h4>Инструментарий</h4></li>
    <li>
      <ul>
        <li><a href="https://github.com/vuejs/vue-devtools" class="nav-link" target="_blank">Инструменты разработчика</a></li>
        <li><a href="https://cli.vuejs.org/ru/" class="nav-link" target="_blank">Vue CLI</a></li>
        <li><a href="https://vue-loader.vuejs.org/ru/" class="nav-link" target="_blank">Vue Loader</a></li>
      </ul>
    </li>
    <li><h4>Официальные плагины</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/ru/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/ru/" class="nav-link" target="_blank">Vuex</a></li>
      <li><a href="https://ssr.vuejs.org/ru/" class="nav-link" target="_blank">Vue Server Renderer</a></li>
    </ul></li>
    <li><h4>Новости</h4></li>
    <li><ul>
      <li><a href="../../news_vuejs_default.html" class="nav-link" target="_blank">Еженедельные новости</a></li>
      <li><a href="https://github.com/vuejs/vue/projects/6" class="nav-link" target="_blank">Roadmap</a></li>
      <li><a href="../../events_vuejs_default.html" class="nav-link" target="_blank">События</a></li>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Блог</a></li>
      <li><a href="https://vuejsjob.com/?ref=vuejs" class="nav-link" target="_blank">Вакансии</a></li>
      <li><a href="https://dev.to/t/vue" class="nav-link" target="_blank">Сообщество разработчиков</a></li>
    </ul></li>
    <li><h4>Списки ресурсов</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Официальные репозитории</a></li>
      <li><a href="../../curated_vuejs_default.html" class="nav-link" target="_blank">Vue Curated</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>

<li>
  <a href="team_5.html" class="nav-link team">Команда</a>
</li>
<li class="nav-dropdown-container support-vue">
  <a href="https://ru.vuejs.org/support-vuejs/" class="nav-link">Поддержать Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="https://ru.vuejs.org/support-vuejs/#One-time-Donations" class="nav-link">Единоразовые пожертвования</a></li>
      <li><a href="https://ru.vuejs.org/support-vuejs/#Recurring-Pledges" class="nav-link">Повторяющиеся взносы</a></li>
      <li><a href="https://vue.threadless.com" target="_blank" class="nav-link">Магазин футболок</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Переводы</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="transitions_2.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="transitions.html" class="nav-link" target="_blank">中文</a></li>
    <li><a href="transitions_6.html" class="nav-link" target="_blank">日本語</a></li>
    <li><a href="transitions_3.html" class="nav-link" target="_blank">한국어</a></li>
    <li><a href="transitions_5.html" class="nav-link" target="_blank">Português</a></li>
    <li><a href="transitions_7.html" class="nav-link" target="_blank">Français</a></li>
    <li><a href="transitions_8.html" class="nav-link" target="_blank">Tiếng Việt</a></li>
  </ul>
</li>


  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      <li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Обучение</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="https://ru.vuejs.org/v2/guide/" class="nav-link current">Руководство</a></li>
      <li><a href="https://ru.vuejs.org/v2/api/" class="nav-link">API</a></li>
      <li><a href="https://ru.vuejs.org/v2/style-guide/" class="nav-link">Рекомендации</a></li>
      <li><a href="https://ru.vuejs.org/v2/examples/" class="nav-link">Примеры</a></li>
      <li><a href="https://ru.vuejs.org/v2/cookbook/" class="nav-link">Книга рецептов</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Экосистема</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Помощь</h4></li>
    <li><ul>
      <li><a href="../../forum_vuejs_default.html" class="nav-link" target="_blank">Форум</a></li>
      <li><a href="https://chat.vuejs.org/" class="nav-link" target="_blank">Чат</a></li>
      <li><a href="../../meetups/meetups.html" class="nav-link" target="_blank">Митапы</a></li>
    </ul></li>
    <li><h4>Инструментарий</h4></li>
    <li>
      <ul>
        <li><a href="https://github.com/vuejs/vue-devtools" class="nav-link" target="_blank">Инструменты разработчика</a></li>
        <li><a href="https://cli.vuejs.org/ru/" class="nav-link" target="_blank">Vue CLI</a></li>
        <li><a href="https://vue-loader.vuejs.org/ru/" class="nav-link" target="_blank">Vue Loader</a></li>
      </ul>
    </li>
    <li><h4>Официальные плагины</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/ru/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/ru/" class="nav-link" target="_blank">Vuex</a></li>
      <li><a href="https://ssr.vuejs.org/ru/" class="nav-link" target="_blank">Vue Server Renderer</a></li>
    </ul></li>
    <li><h4>Новости</h4></li>
    <li><ul>
      <li><a href="../../news_vuejs_default.html" class="nav-link" target="_blank">Еженедельные новости</a></li>
      <li><a href="https://github.com/vuejs/vue/projects/6" class="nav-link" target="_blank">Roadmap</a></li>
      <li><a href="../../events_vuejs_default.html" class="nav-link" target="_blank">События</a></li>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Блог</a></li>
      <li><a href="https://vuejsjob.com/?ref=vuejs" class="nav-link" target="_blank">Вакансии</a></li>
      <li><a href="https://dev.to/t/vue" class="nav-link" target="_blank">Сообщество разработчиков</a></li>
    </ul></li>
    <li><h4>Списки ресурсов</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Официальные репозитории</a></li>
      <li><a href="../../curated_vuejs_default.html" class="nav-link" target="_blank">Vue Curated</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>

<li>
  <a href="team_5.html" class="nav-link team">Команда</a>
</li>
<li class="nav-dropdown-container support-vue">
  <a href="https://ru.vuejs.org/support-vuejs/" class="nav-link">Поддержать Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="https://ru.vuejs.org/support-vuejs/#One-time-Donations" class="nav-link">Единоразовые пожертвования</a></li>
      <li><a href="https://ru.vuejs.org/support-vuejs/#Recurring-Pledges" class="nav-link">Повторяющиеся взносы</a></li>
      <li><a href="https://vue.threadless.com" target="_blank" class="nav-link">Магазин футболок</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Переводы</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="transitions_2.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="transitions.html" class="nav-link" target="_blank">中文</a></li>
    <li><a href="transitions_6.html" class="nav-link" target="_blank">日本語</a></li>
    <li><a href="transitions_3.html" class="nav-link" target="_blank">한국어</a></li>
    <li><a href="transitions_5.html" class="nav-link" target="_blank">Português</a></li>
    <li><a href="transitions_7.html" class="nav-link" target="_blank">Français</a></li>
    <li><a href="transitions_8.html" class="nav-link" target="_blank">Tiếng Việt</a></li>
  </ul>
</li>


    </ul>
    <div class="list">
      <div id="sidebar-sponsors-special">
  <div class="main-sponsor">
    <span>Специальный спонсор</span>
    <div>
    <a href="https://stdlib.com/" target="_blank" class="logo">
      <img src="https://ru.vuejs.org/images/stdlib.png" alt="">
    </a>
    </div>
  </div>
</div>

<div id="sidebar-sponsors-platinum-left">
  <div class="main-sponsor">
    <span>Платиновые спонсоры</span>
    <div>
    <a href="https://moduscreate.com/?utm_source=Vue&utm_medium=Partnership&utm_campaign=VueShip" target="_blank" class="logo">
      <img src="https://ru.vuejs.org/images/modus.png" alt="Modus">
    </a>
    <a href="https://www.bitsrc.io/?utm_source=vue&utm_medium=vue&utm_campaign=vue&utm_term=vue&utm_content=vue" target="_blank" class="logo">
      <img src="https://ru.vuejs.org/images/bit.png" alt="Bit">
    </a>
    <a href="http://tooltwist.com/" target="_blank" class="logo">
      <img src="https://ru.vuejs.org/images/tooltwist.png" alt="Tooltwist">
    </a>
    <a href="https://vueschool.io/?utm_source=Vuejs.org&utm_medium=Banner&utm_campaign=Sponsored%20Banner&utm_content=V1" target="_blank" class="logo">
      <img src="https://ru.vuejs.org/images/vueschool.png" alt="VueSchool">
    </a>
    <a href="https://vehikl.com/" target="_blank" class="logo">
      <img src="https://ru.vuejs.org/images/vehikl.png" alt="Vehikl">
    </a>
    <a href="https://www.nativescript.org/vue?utm_source=vue-js-org&utm_medium=website&utm_campaign=nativescript-awareness" target="_blank" class="logo">
      <img src="https://ru.vuejs.org/images/nativescript.png" alt="NativeScript">
    </a>
    </div>
  </div>
  <a class="become-backer" href="https://ru.vuejs.org/support-vuejs">
    Стать спонсором
  </a>
</div>


      
        <h2>
          
          Руководство
          
            <select class="version-select">
              <option value="SELF" selected>2.x</option>
              <option value="v1">1.0</option>
              <option value="012">0.12</option>
              <option value="011">0.11</option>
            </select>
          
        </h2>
        <ul class="menu-root">
    
        
        
            
                <li><h3>Основы</h3></li>
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="installation_4.html" class="sidebar-link">Установка</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="index_5.html" class="sidebar-link">Введение</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="instance_4.html" class="sidebar-link">Экземпляр Vue</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="syntax_4.html" class="sidebar-link">Синтаксис шаблонов</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="computed_5.html" class="sidebar-link">Вычисляемые свойства и слежение</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="class-and-style_4.html" class="sidebar-link">Работа с классами и стилями</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="conditional_5.html" class="sidebar-link">Условная отрисовка</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="list_4.html" class="sidebar-link">Отрисовка списков</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="events_4.html" class="sidebar-link">Обработка событий</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="forms_5.html" class="sidebar-link">Работа с формами</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="components_3.html" class="sidebar-link">Основы компонентов</a>
        </li>
    
        
        
            
            
              <li><h3>Продвинутые компоненты</h3></li>
            
            
            
            
            
            
            
            
        
        <li>
            <a href="components-registration_3.html" class="sidebar-link">Регистрация компонентов</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="components-props_4.html" class="sidebar-link">Входные параметры</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="components-custom-events_7.html" class="sidebar-link">Пользовательские события</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="components-slots_6.html" class="sidebar-link">Слоты</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="components-dynamic-async_3.html" class="sidebar-link">Динамические и асинхронные компоненты</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="components-edge-cases_4.html" class="sidebar-link">Обработка крайних случаев</a>
        </li>
    
        
        
            
            
            
                <li><h3>Переходы и анимации</h3></li>
            
            
            
            
            
            
            
        
        <li>
            <a href="transitions_4.html" class="sidebar-link current">Анимирование списков и появления/исчезновения</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="transitioning-state_5.html" class="sidebar-link">Анимирование переходов между состояниями</a>
        </li>
    
        
        
            
            
            
            
                <li><h3>Переиспользование и композиция</h3></li>
            
            
            
            
            
            
        
        <li>
            <a href="mixins_3.html" class="sidebar-link">Примеси</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="custom-directive_3.html" class="sidebar-link">Пользовательские директивы</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="render-function_3.html" class="sidebar-link">Render-функции и JSX</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="plugins_7.html" class="sidebar-link">Плагины</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="filters_3.html" class="sidebar-link">Фильтры</a>
        </li>
    
        
        
            
            
            
            
            
                <li><h3>Инструментарий</h3></li>
            
            
            
            
            
        
        <li>
            <a href="single-file-components_4.html" class="sidebar-link">Однофайловые компоненты</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="unit-testing_3.html" class="sidebar-link">Модульное тестирование</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="typescript_3.html" class="sidebar-link">Поддержка TypeScript</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="deployment_4.html" class="sidebar-link">Развёртывание на production</a>
        </li>
    
        
        
            
            
            
            
            
            
                <li><h3>Масштабирование</h3></li>
            
            
            
            
        
        <li>
            <a href="routing_4.html" class="sidebar-link">Роутинг</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="state-management_8.html" class="sidebar-link">Управление состоянием приложения</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="ssr_4.html" class="sidebar-link">SSR. Отрисовка на стороне сервера</a>
        </li>
    
        
        
            
            
            
            
            
            
            
                <li><h3>Продвинутые темы</h3></li>
            
            
            
        
        <li>
            <a href="reactivity_3.html" class="sidebar-link">Подробно о реактивности</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
                <li><h3>Вопросы миграции</h3></li>
            
            
        
        <li>
            <a href="migration_3.html" class="sidebar-link">Миграция с Vue 1.x</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="migration-vue-router_7.html" class="sidebar-link">Миграция с Vue Router 0.7.x</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="migration-vuex_4.html" class="sidebar-link">Миграция с Vuex 0.6.x на 1.0</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
                <li><h3>Мета</h3></li>
            
        
        <li>
            <a href="comparison_3.html" class="sidebar-link">Сравнение с другими фреймворками</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="join_4.html" class="sidebar-link">Присоединяйтесь к сообществу Vue.js!</a>
        </li>
    
        
        
            
            
            
            
            
            
            
            
            
        
        <li>
            <a href="team_5.html" class="sidebar-link">Познакомьтесь с командой</a>
        </li>
    
</ul>

      
    </div>
  </div>
</div>

<div id="sidebar-sponsors-platinum-right">
  <div class="main-sponsor">
    <span>Платиновые спонсоры</span>
    <div>
    <a href="https://moduscreate.com/?utm_source=Vue&utm_medium=Partnership&utm_campaign=VueShip" target="_blank" class="logo">
      <img src="https://ru.vuejs.org/images/modus.png" alt="Modus">
    </a>
    <a href="https://www.bitsrc.io/?utm_source=vue&utm_medium=vue&utm_campaign=vue&utm_term=vue&utm_content=vue" target="_blank" class="logo">
      <img src="https://ru.vuejs.org/images/bit.png" alt="Bit">
    </a>
    <a href="http://tooltwist.com/" target="_blank" class="logo">
      <img src="https://ru.vuejs.org/images/tooltwist.png" alt="Tooltwist">
    </a>
    <a href="https://vueschool.io/?utm_source=Vuejs.org&utm_medium=Banner&utm_campaign=Sponsored%20Banner&utm_content=V1" target="_blank" class="logo">
      <img src="https://ru.vuejs.org/images/vueschool.png" alt="VueSchool">
    </a>
    <a href="https://vehikl.com/" target="_blank" class="logo">
      <img src="https://ru.vuejs.org/images/vehikl.png" alt="Vehikl">
    </a>
    <a href="https://www.nativescript.org/vue?utm_source=vue-js-org&utm_medium=website&utm_campaign=nativescript-awareness" target="_blank" class="logo">
      <img src="https://ru.vuejs.org/images/nativescript.png" alt="NativeScript">
    </a>
    </div>
  </div>
  <a class="become-backer" href="https://ru.vuejs.org/support-vuejs">
    Стать спонсором
  </a>
</div>



<div class="content guide with-sidebar transitions-guide">
    
      
        <div id="ad">
  <script
    async
    type="text/javascript"
    src="https://cdn.carbonads.com/carbon.js?serve=CKYIK2QU&amp;placement=vuejsorg"
    id="_carbonads_js">
  </script>
</div>

      
    
    
      <h1>Анимирование списков и появления/исчезновения</h1>
    
    
      <h2 id="Общие-сведения"><a href="transitions_4.html#Общие-сведения" class="headerlink" title="Общие сведения"></a>Общие сведения</h2><p>Vue даёт возможность самым разным образом анимировать переходы при обновлении объектов DOM, а также при их добавлении и удалении. Его инструменты дают возможность:</p>
<ul>
<li>автоматически применять CSS-классы для анимаций и переходов</li>
<li>интегрировать сторонние библиотеки CSS-анимаций, такие как Animate.css</li>
<li>использовать JavaScript для работы с DOM напрямую в хуках переходов</li>
<li>интегрировать сторонние библиотеки JavaScript-анимаций, такие как Velocity.js</li>
</ul>
<p>На этой странице мы рассмотрим только анимации появления и исчезновения элементов, а также анимации списков. В следующем разделе вы можете найти информацию об <a href="transitioning-state_5.html">анимировании переходов между состояниями</a>.</p>
<h2 id="Анимирование-одиночного-элемента-компонента"><a href="transitions_4.html#Анимирование-одиночного-элемента-компонента" class="headerlink" title="Анимирование одиночного элемента/компонента"></a>Анимирование одиночного элемента/компонента</h2><p>Vue располагает компонентом-обёрткой <code>transition</code>, позволяющим анимировать появление и исчезновение элемента или компонента в следующих случаях:</p>
<ul>
<li>Условная отрисовка (используя <code>v-if</code>)</li>
<li>Условное отображение (используя <code>v-show</code>)</li>
<li>Динамические компоненты</li>
<li>Корневые элементы компонентов</li>
</ul>
<p>Рассмотрим в действии простой пример:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"demo"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"show = !show"</span>&gt;</span>
    Переключить
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">transition</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"fade"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"show"</span>&gt;</span>привет<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#demo'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">show</span>: <span class="hljs-literal">true</span>
  &#125;
&#125;)</code></pre>
<pre><code class="hljs css"><span class="hljs-selector-class">.fade-enter-active</span>, <span class="hljs-selector-class">.fade-leave-active</span> &#123;
  <span class="hljs-attribute">transition</span>: opacity .<span class="hljs-number">5s</span>;
&#125;
<span class="hljs-selector-class">.fade-enter</span>, <span class="hljs-selector-class">.fade-leave-to</span> <span class="hljs-comment">/* .fade-leave-active до версии 2.1.8 */</span> &#123;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
&#125;</code></pre>

<div id="demo">
  <button v-on:click="show = !show">
    Переключить
  </button>
  <transition name="demo-transition">
    <p v-if="show">привет</p>
  </transition>
</div>
<script>
new Vue({
  el: '#demo',
  data: {
    show: true
  }
})
</script>
<style>
.demo-transition-enter-active, .demo-transition-leave-active {
  transition: opacity .5s;
}
.demo-transition-enter, .demo-transition-leave-to {
  opacity: 0;
}
</style>

<p>Когда элемент, завёрнутый в компонент <code>transition</code>, вставляется или удаляется, происходят следующие действия:</p>
<ol>
<li><p>Vue автоматически узнаёт, применены ли к целевому элементу CSS-переходы или анимации. Если да, соответствующие CSS-классы будут должным образом обновлены в нужные моменты времени.</p>
</li>
<li><p>Если для компонента указаны <a href="transitions_4.html#JavaScript-хуки">хуки JavaScript</a>, они будут вызваны в соответствующие моменты времени.</p>
</li>
<li><p>Если не обнаружено ни CSS-переходов и анимаций, ни JavaScript-хуков, операции DOM для вставки или удаления элемента будут выполнены непосредственно в следующем анимационном фрейме (важно: речь идёт об анимационном фрейме браузера, отличном от используемой во Vue концепции <code>nextTick</code>).</p>
</li>
</ol>
<h3 id="Классы-переходов"><a href="transitions_4.html#Классы-переходов" class="headerlink" title="Классы переходов"></a>Классы переходов</h3><p>Есть шесть классов, применяющихся в анимациях появления и исчезновения элементов:</p>
<ol>
<li><p><code>v-enter</code>: Означает начало анимации появления элемента. Этот класс добавляется перед вставкой элемента, а удаляется в следующем фрейме после вставки.</p>
</li>
<li><p><code>v-enter-active</code>: Означает, что анимация появления элемента активна. Этот класс остаётся в течение всей анимации. Он добавляется перед вставкой элемента, а удаляется как только переход или анимация прекратились. Используйте его для установки длительности, задержки и плавности (easing curve) анимации появления.</p>
</li>
<li><p><code>v-enter-to</code>: <strong>Доступно только в версиях 2.1.8+.</strong> Означает, что анимация появления элемента завершается. Класс добавляется в следующем фрейме после вставки элемента (тогда же, когда будет удалён <code>v-enter</code> ), удаляется после завершения перехода или анимации.</p>
</li>
<li><p><code>v-leave</code>: Означает начало анимации исчезновения элемента. Класс добавляется как только началась анимация исчезновения, а удаляется в следующем фрейме после этого.</p>
</li>
<li><p><code>v-leave-active</code>: Означает, что анимация исчезновения элемента активна. Этот класс остаётся в течение всей анимации. Он добавляется как только начинается анимация исчезновения, а удаляется как только переход или анимация прекратились. Используйте его для установки длительности, задержки и плавности (easing curve) анимации исчезновения.</p>
</li>
<li><p><code>v-leave-to</code>: <strong>Доступно только в версиях 2.1.8+.</strong> Означает, что анимация исчезновения элемента завершается. Класс добавляется в следующем фрейме после начала анимации исчезновения (тогда же, когда будет удалён <code>v-leave</code>), а удаляется после завершения перехода или анимации.</p>
</li>
</ol>
<p><img src="https://ru.vuejs.org/images/transition.png" alt="Диаграмма переходов"></p>
<p>Для каждого из этих классов указывается префикс, соответствующий имени перехода. Префикс <code>v-</code> применяется по умолчанию, если элемент <code>&lt;transition&gt;</code> используется без указания параметра <code>name</code> . Например, для <code>&lt;transition name=&quot;my-transition&quot;&gt;</code> вместо класса <code>v-enter</code> будет применяться <code>my-transition-enter</code>.</p>
<p><code>v-enter-active</code> и <code>v-leave-active</code> дают возможность указать различные анимационные эффекты для переходов появления и исчезновения элемента. Пример их использования будет приведён ниже.</p>
<h3 id="CSS-переходы"><a href="transitions_4.html#CSS-переходы" class="headerlink" title="CSS-переходы"></a>CSS-переходы</h3><p>Одни из самых распространённых типов анимации — это CSS-переходы. Вот небольшой пример:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"example-1"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"show = !show"</span>&gt;</span>
    Переключить отрисовку
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">transition</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"slide-fade"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"show"</span>&gt;</span>привет<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#example-1'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">show</span>: <span class="hljs-literal">true</span>
  &#125;
&#125;)</code></pre>
<pre><code class="hljs css"><span class="hljs-comment">/* Анимации появления и исчезновения могут иметь */</span>
<span class="hljs-comment">/* различные продолжительности и динамику.       */</span>
<span class="hljs-selector-class">.slide-fade-enter-active</span> &#123;
  <span class="hljs-attribute">transition</span>: all .<span class="hljs-number">3s</span> ease;
&#125;
<span class="hljs-selector-class">.slide-fade-leave-active</span> &#123;
  <span class="hljs-attribute">transition</span>: all .<span class="hljs-number">8s</span> <span class="hljs-built_in">cubic-bezier</span>(1.0, 0.5, 0.8, 1.0);
&#125;
<span class="hljs-selector-class">.slide-fade-enter</span>, <span class="hljs-selector-class">.slide-fade-leave-to</span>
<span class="hljs-comment">/* .slide-fade-leave-active до версии 2.1.8 */</span> &#123;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(10px);
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
&#125;</code></pre>

<div id="example-1" class="demo">
  <button @click="show = !show">
    Переключить отрисовку
  </button>
  <transition name="slide-fade">
    <p v-if="show">привет</p>
  </transition>
</div>
<script>
new Vue({
  el: '#example-1',
  data: {
    show: true
  }
})
</script>
<style>
.slide-fade-enter-active {
  transition: all .3s ease;
}
.slide-fade-leave-active {
  transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);
}
.slide-fade-enter, .slide-fade-leave-to {
  transform: translateX(10px);
  opacity: 0;
}
</style>

<h3 id="CSS-анимации"><a href="transitions_4.html#CSS-анимации" class="headerlink" title="CSS-анимации"></a>CSS-анимации</h3><p>CSS-анимации применяются таким же образом, как и CSS-переходы, с одним отличием: <code>v-enter</code> удаляется не сразу же после вставки элемента, а только при наступлении события <code>animationend</code>.</p>
<p>В этом примере браузерные CSS-префиксы опущены для краткости:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"example-2"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"show = !show"</span>&gt;</span>Переключить отображение<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">transition</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"bounce"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"show"</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris facilisis enim libero, at lacinia diam fermentum id. Pellentesque habitant morbi tristique senectus et netus.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#example-2'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">show</span>: <span class="hljs-literal">true</span>
  &#125;
&#125;)</code></pre>
<pre><code class="hljs css"><span class="hljs-selector-class">.bounce-enter-active</span> &#123;
  <span class="hljs-attribute">animation</span>: bounce-in .<span class="hljs-number">5s</span>;
&#125;
<span class="hljs-selector-class">.bounce-leave-active</span> &#123;
  <span class="hljs-attribute">animation</span>: bounce-in .<span class="hljs-number">5s</span> reverse;
&#125;
@<span class="hljs-keyword">keyframes</span> bounce-in &#123;
  0% &#123;
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(0);
  &#125;
  50% &#123;
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(1.5);
  &#125;
  100% &#123;
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(1);
  &#125;
&#125;</code></pre>

<div id="example-2" class="demo">
  <button @click="show = !show">Переключить отображение</button>
  <transition name="bounce">
    <p v-show="show">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris facilisis enim libero, at lacinia diam fermentum id. Pellentesque habitant morbi tristique senectus et netus.</p>
  </transition>
</div>

<style>
  .bounce-enter-active {
    -webkit-animation: bounce-in .5s;
    animation: bounce-in .5s;
  }
  .bounce-leave-active {
    -webkit-animation: bounce-in .5s reverse;
    animation: bounce-in .5s reverse;
  }
  @keyframes bounce-in {
    0% {
      -webkit-transform: scale(0);
      transform: scale(0);
    }
    50% {
      -webkit-transform: scale(1.5);
      transform: scale(1.5);
    }
    100% {
      -webkit-transform: scale(1);
      transform: scale(1);
    }
  }
  @-webkit-keyframes bounce-in {
    0% {
      -webkit-transform: scale(0);
      transform: scale(0);
    }
    50% {
      -webkit-transform: scale(1.5);
      transform: scale(1.5);
    }
    100% {
      -webkit-transform: scale(1);
      transform: scale(1);
    }
  }
</style>
<script>
new Vue({
  el: '#example-2',
  data: {
    show: true
  }
})
</script>

<h3 id="Пользовательские-классы-переходов"><a href="transitions_4.html#Пользовательские-классы-переходов" class="headerlink" title="Пользовательские классы переходов"></a>Пользовательские классы переходов</h3><p>Вы также можете использовать пользовательские классы переходов, указывая следующие атрибуты:</p>
<ul>
<li><code>enter-class</code></li>
<li><code>enter-active-class</code></li>
<li><code>enter-to-class</code> (в версии 2.1.8+)</li>
<li><code>leave-class</code></li>
<li><code>leave-active-class</code></li>
<li><code>leave-to-class</code> (в версии 2.1.8+)</li>
</ul>
<p>Таким образом стандартные названия классов будут переопределены, что может быть особенно полезно для комбинирования системы анимированных переходов Vue с возможностями сторонних библиотек CSS-анимаций, таких как <a href="https://daneden.github.io/animate.css/" target="_blank" rel="noopener">Animate.css</a>.</p>
<p>Вот пример:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/animate.css@3.5.1"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"example-3"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"show = !show"</span>&gt;</span>
    Переключить отрисовку
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">transition</span>
    <span class="hljs-attr">name</span>=<span class="hljs-string">"custom-classes-transition"</span>
    <span class="hljs-attr">enter-active-class</span>=<span class="hljs-string">"animated tada"</span>
    <span class="hljs-attr">leave-active-class</span>=<span class="hljs-string">"animated bounceOutRight"</span>
  &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"show"</span>&gt;</span>привет<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#example-3'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">show</span>: <span class="hljs-literal">true</span>
  &#125;
&#125;)</code></pre>

<link href="https://cdn.jsdelivr.net/npm/animate.css@3.5.1" rel="stylesheet" type="text/css">
<div id="example-3" class="demo">
  <button @click="show = !show">
    Переключить отрисовку
  </button>
  <transition name="custom-classes-transition" enter-active-class="animated tada" leave-active-class="animated bounceOutRight">
    <p v-if="show">привет</p>
  </transition>
</div>
<script>
new Vue({
  el: '#example-3',
  data: {
    show: true
  }
})
</script>

<h3 id="Совместное-использование-переходов-и-анимаций"><a href="transitions_4.html#Совместное-использование-переходов-и-анимаций" class="headerlink" title="Совместное использование переходов и анимаций"></a>Совместное использование переходов и анимаций</h3><p>Для того чтобы Vue знал о завершении анимации, ему требуется установка подписчиков на события. В зависимости от используемых правил CSS, таким событием будет либо <code>transitionend</code>, либо <code>animationend</code>. Если вы используете только один из подходов, Vue определит правильный тип автоматически.</p>
<p>Однако, иногда может потребоваться использование обоих подходов на одном элементе. Например, CSS-анимация под управлением Vue при появлении или исчезновении элемента может соседствовать с эффектом CSS-перехода при наведении курсора мыши на элемент. В таких случаях потребуется явное указание типа события, на которое должен будет ориентироваться Vue. Атрибут <code>type</code> может получить значение <code>animation</code> или <code>transition</code>.</p>
<h3 id="Указание-длительности-перехода"><a href="transitions_4.html#Указание-длительности-перехода" class="headerlink" title="Указание длительности перехода"></a>Указание длительности перехода</h3><blockquote>
<p>Добавлено в версии 2.2.0+</p>
</blockquote>
<p>В большинстве случаев Vue может автоматически определить когда переход завершён. По умолчанию Vue дожидается первого события <code>transitionend</code> или <code>animationend</code> на корневом элементе. Тем не менее, это не всегда может быть нужным — например, мы можем иметь хореографическую последовательность переходов, где некоторые внутренние элементы могут иметь задержку перед переходом или более длинный по времени переход, чем у корневого элемента.</p>
<p>В таких случаях вы можете явно указать продолжительность перехода (в миллисекундах) с помощью опции <code>duration</code> на компоненте <code>&lt;transition&gt;</code>:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span> <span class="hljs-attr">:duration</span>=<span class="hljs-string">"1000"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>
<p>Можно также указать отдельные значения продолжительностей начала и окончания перехода:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span> <span class="hljs-attr">:duration</span>=<span class="hljs-string">"&#123; enter: 500, leave: 800 &#125;"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>
<h3 id="JavaScript-хуки"><a href="transitions_4.html#JavaScript-хуки" class="headerlink" title="JavaScript-хуки"></a>JavaScript-хуки</h3><p>Можно также указывать JavaScript-хуки:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span>
  <span class="hljs-attr">v-on:before-enter</span>=<span class="hljs-string">"beforeEnter"</span>
  <span class="hljs-attr">v-on:enter</span>=<span class="hljs-string">"enter"</span>
  <span class="hljs-attr">v-on:after-enter</span>=<span class="hljs-string">"afterEnter"</span>
  <span class="hljs-attr">v-on:enter-cancelled</span>=<span class="hljs-string">"enterCancelled"</span>

  <span class="hljs-attr">v-on:before-leave</span>=<span class="hljs-string">"beforeLeave"</span>
  <span class="hljs-attr">v-on:leave</span>=<span class="hljs-string">"leave"</span>
  <span class="hljs-attr">v-on:after-leave</span>=<span class="hljs-string">"afterLeave"</span>
  <span class="hljs-attr">v-on:leave-cancelled</span>=<span class="hljs-string">"leaveCancelled"</span>
&gt;</span>
  <span class="hljs-comment">&lt;!-- ... --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-comment">// ...</span>
methods: &#123;
  <span class="hljs-comment">// --------</span>
  <span class="hljs-comment">// ПОЯВЛЕНИЕ</span>
  <span class="hljs-comment">// --------</span>

  beforeEnter: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;
    <span class="hljs-comment">// ...</span>
  &#125;,
  <span class="hljs-comment">// коллбэк done не обязательно использовать, если</span>
  <span class="hljs-comment">// анимация или переход также определены в CSS</span>
  enter: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, done</span>) </span>&#123;
    <span class="hljs-comment">// ...</span>
    done()
  &#125;,
  <span class="hljs-attr">afterEnter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;
    <span class="hljs-comment">// ...</span>
  &#125;,
  <span class="hljs-attr">enterCancelled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;
    <span class="hljs-comment">// ...</span>
  &#125;,

  <span class="hljs-comment">// --------</span>
  <span class="hljs-comment">// ИСЧЕЗНОВЕНИЕ</span>
  <span class="hljs-comment">// --------</span>

  beforeLeave: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;
    <span class="hljs-comment">// ...</span>
  &#125;,
  <span class="hljs-comment">// коллбэк done не обязательно использовать, если</span>
  <span class="hljs-comment">// анимация или переход также определены в CSS</span>
  leave: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, done</span>) </span>&#123;
    <span class="hljs-comment">// ...</span>
    done()
  &#125;,
  <span class="hljs-attr">afterLeave</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;
    <span class="hljs-comment">// ...</span>
  &#125;,
  <span class="hljs-comment">// leaveCancelled доступна только для v-show</span>
  leaveCancelled: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;
    <span class="hljs-comment">// ...</span>
  &#125;
&#125;</code></pre>
<p>Эти хуки могут применяться как самостоятельно, так и в сочетании с CSS-переходами и анимациями.</p>
<p class="tip">Если ваш переход основан только на JavaScript, <strong>обязательно вызывайте коллбэки <code>done</code> в хуках <code>enter</code> и <code>leave</code></strong>. Если вы этого не сделаете, хуки будут вызваны синхронно, и переход закончится раньше, чем отработает ваш код.</p>

<p class="tip">Лучше явным образом указывать <code>v-bind:css=&quot;false&quot;</code> для переходов, основанных только на JavaScript. Это позволит Vue не тратить время на определение параметров CSS. Кроме того, это убережёт нас от случайного взаимовлияния CSS-правил и JS-перехода.</p>

<p>Теперь давайте разберём пример. Возьмём простой JavaScript-переход, использующий Velocity.js:</p>
<pre><code class="hljs html"><span class="hljs-comment">&lt;!--
Velocity работает примерно так же, как и jQuery.animate,
и весьма удобен для создания JavaScript-анимаций
--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"example-4"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"show = !show"</span>&gt;</span>
    Переключить
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">transition</span>
    <span class="hljs-attr">v-on:before-enter</span>=<span class="hljs-string">"beforeEnter"</span>
    <span class="hljs-attr">v-on:enter</span>=<span class="hljs-string">"enter"</span>
    <span class="hljs-attr">v-on:leave</span>=<span class="hljs-string">"leave"</span>
    <span class="hljs-attr">v-bind:css</span>=<span class="hljs-string">"false"</span>
  &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"show"</span>&gt;</span>
      Демо
    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#example-4'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">show</span>: <span class="hljs-literal">false</span>
  &#125;,
  <span class="hljs-attr">methods</span>: &#123;
    <span class="hljs-attr">beforeEnter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;
      el.style.opacity = <span class="hljs-number">0</span>
    &#125;,
    <span class="hljs-attr">enter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, done</span>) </span>&#123;
      Velocity(el, &#123; <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">fontSize</span>: <span class="hljs-string">'1.4em'</span> &#125;, &#123; <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span> &#125;)
      Velocity(el, &#123; <span class="hljs-attr">fontSize</span>: <span class="hljs-string">'1em'</span> &#125;, &#123; <span class="hljs-attr">complete</span>: done &#125;)
    &#125;,
    <span class="hljs-attr">leave</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, done</span>) </span>&#123;
      Velocity(el, &#123; <span class="hljs-attr">translateX</span>: <span class="hljs-string">'15px'</span>, <span class="hljs-attr">rotateZ</span>: <span class="hljs-string">'50deg'</span> &#125;, &#123; <span class="hljs-attr">duration</span>: <span class="hljs-number">600</span> &#125;)
      Velocity(el, &#123; <span class="hljs-attr">rotateZ</span>: <span class="hljs-string">'100deg'</span> &#125;, &#123; <span class="hljs-attr">loop</span>: <span class="hljs-number">2</span> &#125;)
      Velocity(el, &#123;
        <span class="hljs-attr">rotateZ</span>: <span class="hljs-string">'45deg'</span>,
        <span class="hljs-attr">translateY</span>: <span class="hljs-string">'30px'</span>,
        <span class="hljs-attr">translateX</span>: <span class="hljs-string">'30px'</span>,
        <span class="hljs-attr">opacity</span>: <span class="hljs-number">0</span>
      &#125;, &#123; <span class="hljs-attr">complete</span>: done &#125;)
    &#125;
  &#125;
&#125;)</code></pre>

<div id="example-4" class="demo">
  <button @click="show = !show">
    Переключить
  </button>
  <transition v-on:before-enter="beforeEnter" v-on:enter="enter" v-on:leave="leave">
    <p v-if="show">
      Демо
    </p>
  </transition>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js"></script>
<script>
new Vue({
  el: '#example-4',
  data: {
    show: false
  },
  methods: {
    beforeEnter: function (el) {
      el.style.opacity = 0
      el.style.transformOrigin = 'left'
    },
    enter: function (el, done) {
      Velocity(el, { opacity: 1, fontSize: '1.4em' }, { duration: 300 })
      Velocity(el, { fontSize: '1em' }, { complete: done })
    },
    leave: function (el, done) {
      Velocity(el, { translateX: '15px', rotateZ: '50deg' }, { duration: 600 })
      Velocity(el, { rotateZ: '100deg' }, { loop: 2 })
      Velocity(el, {
        rotateZ: '45deg',
        translateY: '30px',
        translateX: '30px',
        opacity: 0
      }, { complete: done })
    }
  }
})
</script>

<h2 id="Переходы-при-первичной-отрисовке"><a href="transitions_4.html#Переходы-при-первичной-отрисовке" class="headerlink" title="Переходы при первичной отрисовке"></a>Переходы при первичной отрисовке</h2><p>Если вы хотите, чтобы пользователь увидел анимацию перехода и при изначальной отрисовке, добавьте атрибут <code>appear</code>:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span> <span class="hljs-attr">appear</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- ... --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>
<p>По умолчанию будут задействованы переходы, указанные для появления и исчезновения. Можно, впрочем, указать и отдельные:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span>
  <span class="hljs-attr">appear</span>
  <span class="hljs-attr">appear-class</span>=<span class="hljs-string">"custom-appear-class"</span>
  <span class="hljs-attr">appear-to-class</span>=<span class="hljs-string">"custom-appear-to-class"</span> (в версии <span class="hljs-attr">2.1.8</span>+)
  <span class="hljs-attr">appear-active-class</span>=<span class="hljs-string">"custom-appear-active-class"</span>
&gt;</span>
  <span class="hljs-comment">&lt;!-- ... --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>
<p>То же справедливо и для хуков:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span>
  <span class="hljs-attr">appear</span>
  <span class="hljs-attr">v-on:before-appear</span>=<span class="hljs-string">"customBeforeAppearHook"</span>
  <span class="hljs-attr">v-on:appear</span>=<span class="hljs-string">"customAppearHook"</span>
  <span class="hljs-attr">v-on:after-appear</span>=<span class="hljs-string">"customAfterAppearHook"</span>
  <span class="hljs-attr">v-on:appear-cancelled</span>=<span class="hljs-string">"customAppearCancelledHook"</span>
&gt;</span>
  <span class="hljs-comment">&lt;!-- ... --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>
<h2 id="Переходы-между-элементами"><a href="transitions_4.html#Переходы-между-элементами" class="headerlink" title="Переходы между элементами"></a>Переходы между элементами</h2><p>Подробно <a href="transitions_4.html#Переходы-между-компонентами">переходы между компонентами</a> мы обсудим позднее, а сейчас поговорим о переходах с помощью <code>v-if</code>/<code>v-else</code>. Один из наиболее частых случаев — переход от списка к сообщению, что список пуст:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"items.length &gt; 0"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ... --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-else</span>&gt;</span>Жаль, но ничего не найдено.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>
<p>Это сработает, но следует знать о нескольких скользких моментах:</p>
<p class="tip">При переключении между элементами, <strong>использующими одноимённые теги</strong>, нужно указать Vue, что это различные элементы, установив уникальные значения атрибута <code>key</code>. В противном случае компилятор Vue из соображений эффективности только поменяет содержимое элемента. Несмотря на отсутствие технической необходимости, <strong>считается хорошим тоном всегда оборачивать множественные теги в компонент <code>&lt;transition&gt;</code>.</strong></p>

<p>Например:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"isEditing"</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"save"</span>&gt;</span>
    Сохранить
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"edit"</span>&gt;</span>
    Редактировать
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>
<p>В этом случае вы можете использовать атрибут <code>key</code> для перехода между разными состояниями элемента. Вместо использования <code>v-if</code> и <code>v-else</code>, можно переписать пример выше вот так:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-bind:key</span>=<span class="hljs-string">"isEditing"</span>&gt;</span>
    &#123;&#123; isEditing ? 'Сохранить' : 'Редактировать' &#125;&#125;
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>
<p>В действительности можно не ограничиваться двумя вариантами, и организовать переходы между любым количеством элементов, либо многократно используя <code>v-if</code>, либо привязывая единственный элемент к динамическому свойству. Например:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"docState === 'saved'"</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"saved"</span>&gt;</span>
    Редактировать
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"docState === 'edited'"</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"edited"</span>&gt;</span>
    Сохранить
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"docState === 'editing'"</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"editing"</span>&gt;</span>
    Отмена
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>
<p>Что можно также записать в таком виде:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-bind:key</span>=<span class="hljs-string">"docState"</span>&gt;</span>
    &#123;&#123; buttonMessage &#125;&#125;
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-comment">// ...</span>
computed: &#123;
  <span class="hljs-attr">buttonMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
    <span class="hljs-keyword">switch</span> (<span class="hljs-keyword">this</span>.docState) &#123;
      <span class="hljs-keyword">case</span> <span class="hljs-string">'saved'</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">'Редактировать'</span>
      <span class="hljs-keyword">case</span> <span class="hljs-string">'edited'</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">'Сохранить'</span>
      <span class="hljs-keyword">case</span> <span class="hljs-string">'editing'</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">'Отмена'</span>
    &#125;
  &#125;
&#125;</code></pre>
<h3 id="Режимы-переходов"><a href="transitions_4.html#Режимы-переходов" class="headerlink" title="Режимы переходов"></a>Режимы переходов</h3><p>Однако сохраняется одна проблема. Попробуйте кликнуть на кнопку ниже:</p>

<div id="no-mode-demo" class="demo">
  <transition name="no-mode-fade">
    <button v-if="on" key="on" @click="on = false">
      on
    </button>
    <button v-else="" key="off" @click="on = true">
      off
    </button>
  </transition>
</div>
<script>
new Vue({
  el: '#no-mode-demo',
  data: {
    on: false
  }
})
</script>
<style>
.no-mode-fade-enter-active, .no-mode-fade-leave-active {
  transition: opacity .5s
}
.no-mode-fade-enter, .no-mode-fade-leave-active {
  opacity: 0
}
</style>

<p>Во время перехода от кнопки «on» к кнопке «off» одновременно отображаются обе кнопки: одна — исчезая, другая — появляясь. Так <code>&lt;transition&gt;</code> ведёт себя по умолчанию.</p>
<p>Иногда это поведение подходит, например если оба элемента абсолютно спозиционированы в одном и том же месте:</p>

<div id="no-mode-absolute-demo" class="demo">
  <div class="no-mode-absolute-demo-wrapper">
    <transition name="no-mode-absolute-fade">
      <button v-if="on" key="on" @click="on = false">
        on
      </button>
      <button v-else="" key="off" @click="on = true">
        off
      </button>
    </transition>
  </div>
</div>
<script>
new Vue({
  el: '#no-mode-absolute-demo',
  data: {
    on: false
  }
})
</script>
<style>
.no-mode-absolute-demo-wrapper {
  position: relative;
  height: 18px;
}
.no-mode-absolute-demo-wrapper button {
  position: absolute;
}
.no-mode-absolute-fade-enter-active, .no-mode-absolute-fade-leave-active {
  transition: opacity .5s;
}
.no-mode-absolute-fade-enter, .no-mode-absolute-fade-leave-active {
  opacity: 0;
}
</style>

<p>Таким образом можно также сымитировать анимацию слайдера:</p>

<div id="no-mode-translate-demo" class="demo">
  <div class="no-mode-translate-demo-wrapper">
    <transition name="no-mode-translate-fade">
      <button v-if="on" key="on" @click="on = false">
        on
      </button>
      <button v-else="" key="off" @click="on = true">
        off
      </button>
    </transition>
  </div>
</div>
<script>
new Vue({
  el: '#no-mode-translate-demo',
  data: {
    on: false
  }
})
</script>
<style>
.no-mode-translate-demo-wrapper {
  position: relative;
  height: 18px;
}
.no-mode-translate-demo-wrapper button {
  position: absolute;
}
.no-mode-translate-fade-enter-active, .no-mode-translate-fade-leave-active {
  transition: all 1s;
}
.no-mode-translate-fade-enter, .no-mode-translate-fade-leave-active {
  opacity: 0;
}
.no-mode-translate-fade-enter {
  transform: translateX(31px);
}
.no-mode-translate-fade-leave-active {
  transform: translateX(-31px);
}
</style>

<p>Тем не менее, одновременное сокрытие и появление элементов — это не всегда то, чего хочется. Поэтому Vue предоставляет альтернативные <strong>режимы перехода</strong>:</p>
<ul>
<li><p><code>in-out</code>: Сначала появляется новый элемент, и только после этого исчезает старый.</p>
</li>
<li><p><code>out-in</code>: Сначала исчезает старый элемент, и только после этого появляется новый.</p>
</li>
</ul>
<p>Давайте теперь изменим переход для наших on/off кнопок, используя <code>out-in</code>:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"fade"</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"out-in"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- ... кнопки ... --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>

<div id="with-mode-demo" class="demo">
  <transition name="with-mode-fade" mode="out-in">
    <button v-if="on" key="on" @click="on = false">
      on
    </button>
    <button v-else="" key="off" @click="on = true">
      off
    </button>
  </transition>
</div>
<script>
new Vue({
  el: '#with-mode-demo',
  data: {
    on: false
  }
})
</script>
<style>
.with-mode-fade-enter-active, .with-mode-fade-leave-active {
  transition: opacity .5s;
}
.with-mode-fade-enter, .with-mode-fade-leave-active {
  opacity: 0;
}
</style>

<p>Добавив всего лишь один атрибут, мы исправили исходную анимацию перехода, не прибегая к редактированию стилей.</p>
<p>Режим <code>in-out</code> применяется не столь часто, но для достижения некоторых эффектов и он может быть полезен. Давайте попробуем совместить его с ранее рассмотренной анимацией слайдера:</p>

<div id="in-out-translate-demo" class="demo">
  <div class="in-out-translate-demo-wrapper">
    <transition name="in-out-translate-fade" mode="in-out">
      <button v-if="on" key="on" @click="on = false">
        on
      </button>
      <button v-else="" key="off" @click="on = true">
        off
      </button>
    </transition>
  </div>
</div>
<script>
new Vue({
  el: '#in-out-translate-demo',
  data: {
    on: false
  }
})
</script>
<style>
.in-out-translate-demo-wrapper {
  position: relative;
  height: 18px;
}
.in-out-translate-demo-wrapper button {
  position: absolute;
}
.in-out-translate-fade-enter-active, .in-out-translate-fade-leave-active {
  transition: all .5s;
}
.in-out-translate-fade-enter, .in-out-translate-fade-leave-active {
  opacity: 0;
}
.in-out-translate-fade-enter {
  transform: translateX(31px);
}
.in-out-translate-fade-leave-active {
  transform: translateX(-31px);
}
</style>

<p>Круто, правда?</p>
<h2 id="Переходы-между-компонентами"><a href="transitions_4.html#Переходы-между-компонентами" class="headerlink" title="Переходы между компонентами"></a>Переходы между компонентами</h2><p>Переходы между компонентами — ещё проще, нам даже не нужен атрибут <code>key</code>. Всё, что нужно — завернуть <a href="components_3.html#Динамическое-переключение-компонентов">динамический компонент</a> в <code>&lt;transition&gt;</code>:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"component-fade"</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"out-in"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">v-bind:is</span>=<span class="hljs-string">"view"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#transition-components-demo'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">view</span>: <span class="hljs-string">'v-a'</span>
  &#125;,
  <span class="hljs-attr">components</span>: &#123;
    <span class="hljs-string">'v-a'</span>: &#123;
      <span class="hljs-attr">template</span>: <span class="hljs-string">'&lt;div&gt;Компонент А&lt;/div&gt;'</span>
    &#125;,
    <span class="hljs-string">'v-b'</span>: &#123;
      <span class="hljs-attr">template</span>: <span class="hljs-string">'&lt;div&gt;Компонент Б&lt;/div&gt;'</span>
    &#125;
  &#125;
&#125;)</code></pre>
<pre><code class="hljs css"><span class="hljs-selector-class">.component-fade-enter-active</span>, <span class="hljs-selector-class">.component-fade-leave-active</span> &#123;
  <span class="hljs-attribute">transition</span>: opacity .<span class="hljs-number">3s</span> ease;
&#125;
<span class="hljs-selector-class">.component-fade-enter</span>, <span class="hljs-selector-class">.component-fade-leave-to</span>
<span class="hljs-comment">/* .component-fade-leave-active до версии 2.1.8 */</span> &#123;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
&#125;</code></pre>

<div id="transition-components-demo" class="demo">
  <input v-model="view" type="radio" value="v-a" id="a" name="view"><label for="a">А</label>
  <input v-model="view" type="radio" value="v-b" id="b" name="view"><label for="b">Б</label>
  <transition name="component-fade" mode="out-in">
    <component v-bind:is="view"></component>
  </transition>
</div>
<style>
.component-fade-enter-active, .component-fade-leave-active {
  transition: opacity .3s ease;
}
.component-fade-enter, .component-fade-leave-to {
  opacity: 0;
}
</style>
<script>
new Vue({
  el: '#transition-components-demo',
  data: {
    view: 'v-a'
  },
  components: {
    'v-a': {
      template: '<div>Компонент А</div>'
    },
    'v-b': {
      template: '<div>Компонент Б</div>'
    }
  }
})
</script>

<h2 id="Переходы-в-списках"><a href="transitions_4.html#Переходы-в-списках" class="headerlink" title="Переходы в списках"></a>Переходы в списках</h2><p>Мы уже разобрались с переходами для:</p>
<ul>
<li>Одиночных элементов</li>
<li>Множеств элементов, в случаях когда единовременно не может отображаться более одного элемента из множества</li>
</ul>
<p>А как насчёт ситуации, когда у нас есть целый список элементов, который мы бы хотели отображать одновременно, например директивой <code>v-for</code>? В этом случае, мы используем компонент <code>&lt;transition-group&gt;</code>. Прежде чем мы перейдём к примеру, важно отметить несколько важных моментов, касающихся этого компонента:</p>
<ul>
<li>В отличие от <code>&lt;transition&gt;</code>, он создаёт реальный элемент. По умолчанию это <code>&lt;span&gt;</code>, но можно изменить на любой другой, указав атрибут <code>tag</code>.</li>
<li><a href="transitions_4.html#Transition-Modes">Режимы переходов</a> недоступны, так как мы больше не переключаемся туда-сюда между взаимоисключающими элементами.</li>
<li>У каждого элемента внутри <code>&lt;transition-group&gt;</code> <strong>всегда обязательно</strong> должно быть уникальное значение атрибута <code>key</code>.</li>
</ul>
<h3 id="Анимация-вставки-и-удаления-элементов-списка"><a href="transitions_4.html#Анимация-вставки-и-удаления-элементов-списка" class="headerlink" title="Анимация вставки и удаления элементов списка"></a>Анимация вставки и удаления элементов списка</h3><p>Давайте теперь разберём несложный пример анимации перехода вставки и удаления, использующий те же CSS-классы, что мы рассматривали ранее:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"list-demo"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"add"</span>&gt;</span>Добавить<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"remove"</span>&gt;</span>Удалить<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">transition-group</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"list"</span> <span class="hljs-attr">tag</span>=<span class="hljs-string">"p"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in items"</span> <span class="hljs-attr">v-bind:key</span>=<span class="hljs-string">"item"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item"</span>&gt;</span>
      &#123;&#123; item &#125;&#125;
    <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">transition-group</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#list-demo'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">items</span>: [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>],
    <span class="hljs-attr">nextNum</span>: <span class="hljs-number">10</span>
  &#125;,
  <span class="hljs-attr">methods</span>: &#123;
    <span class="hljs-attr">randomIndex</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-keyword">this</span>.items.length)
    &#125;,
    <span class="hljs-attr">add</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
      <span class="hljs-keyword">this</span>.items.splice(<span class="hljs-keyword">this</span>.randomIndex(), <span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.nextNum++)
    &#125;,
    <span class="hljs-attr">remove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
      <span class="hljs-keyword">this</span>.items.splice(<span class="hljs-keyword">this</span>.randomIndex(), <span class="hljs-number">1</span>)
    &#125;,
  &#125;
&#125;)</code></pre>
<pre><code class="hljs css"><span class="hljs-selector-class">.list-item</span> &#123;
  <span class="hljs-attribute">display</span>: inline-block;
  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">10px</span>;
&#125;
<span class="hljs-selector-class">.list-enter-active</span>, <span class="hljs-selector-class">.list-leave-active</span> &#123;
  <span class="hljs-attribute">transition</span>: all <span class="hljs-number">1s</span>;
&#125;
<span class="hljs-selector-class">.list-enter</span>, <span class="hljs-selector-class">.list-leave-to</span> <span class="hljs-comment">/* .list-leave-active до версии 2.1.8 */</span> &#123;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(30px);
&#125;</code></pre>

<div id="list-demo" class="demo">
  <button v-on:click="add">Добавить</button>
  <button v-on:click="remove">Удалить</button>
  <transition-group name="list" tag="p">
    <span v-for="item in items" :key="item" class="list-item">
      {{ item }}
    </span>
  </transition-group>
</div>
<script>
new Vue({
  el: '#list-demo',
  data: {
    items: [1,2,3,4,5,6,7,8,9],
    nextNum: 10
  },
  methods: {
    randomIndex: function () {
      return Math.floor(Math.random() * this.items.length)
    },
    add: function () {
      this.items.splice(this.randomIndex(), 0, this.nextNum++)
    },
    remove: function () {
      this.items.splice(this.randomIndex(), 1)
    },
  }
})
</script>
<style>
.list-item {
  display: inline-block;
  margin-right: 10px;
}
.list-enter-active, .list-leave-active {
  transition: all 1s;
}
.list-enter, .list-leave-to {
  opacity: 0;
  transform: translateY(30px);
}
</style>

<p>С этим примером есть одна проблема. При добавлении или удалении элемента, окружающие его элементы резко перемещаются, вместо того чтобы плавно перелететь на новые места. Мы исправим это позднее.</p>
<h3 id="Анимация-перемещения-элементов-списка"><a href="transitions_4.html#Анимация-перемещения-элементов-списка" class="headerlink" title="Анимация перемещения элементов списка"></a>Анимация перемещения элементов списка</h3><p>У компонента <code>&lt;transition-group&gt;</code> припасён ещё один козырь в рукаве. Он способен анимировать не только появление и удаление элементов, но также и их перемещение. Происходит это путём добавления <strong>класса <code>v-move</code></strong>, который указывается при изменении позиции элементов. Как и с другими классами, префикс устанавливается в соответствии с указанным значением атрибута <code>name</code>. Аналогично, можно указать класс вручную в атрибуте <code>move-class</code>.</p>
<p>Этим классом удобнее всего указывать продолжительность и тайминги перехода:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.14.1/lodash.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"flip-list-demo"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"shuffle"</span>&gt;</span>Перемешать<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">transition-group</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"flip-list"</span> <span class="hljs-attr">tag</span>=<span class="hljs-string">"ul"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in items"</span> <span class="hljs-attr">v-bind:key</span>=<span class="hljs-string">"item"</span>&gt;</span>
      &#123;&#123; item &#125;&#125;
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">transition-group</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#flip-list-demo'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">items</span>: [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>]
  &#125;,
  <span class="hljs-attr">methods</span>: &#123;
    <span class="hljs-attr">shuffle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
      <span class="hljs-keyword">this</span>.items = _.shuffle(<span class="hljs-keyword">this</span>.items)
    &#125;
  &#125;
&#125;)</code></pre>
<pre><code class="hljs css"><span class="hljs-selector-class">.flip-list-move</span> &#123;
  <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">1s</span>;
&#125;</code></pre>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.14.1/lodash.min.js"></script>
<div id="flip-list-demo" class="demo">
  <button v-on:click="shuffle">Перемешать</button>
  <transition-group name="flip-list" tag="ul">
    <li v-for="item in items" :key="item">
      {{ item }}
    </li>
  </transition-group>
</div>
<script>
new Vue({
  el: '#flip-list-demo',
  data: {
    items: [1,2,3,4,5,6,7,8,9]
  },
  methods: {
    shuffle: function () {
      this.items = _.shuffle(this.items)
    }
  }
})
</script>
<style>
.flip-list-move {
  transition: transform 1s;
}
</style>

<p>Хотя это и может выглядеть как магия, «под капотом» Vue использует довольно простую анимационную технику под названием <a href="https://aerotwist.com/blog/flip-your-animations/" target="_blank" rel="noopener">FLIP</a>, которая позволяет плавно перевести элементы с их старых позиций на новые, используя CSS-трансформации.</p>
<p>Теперь мы можем совместить эту технику с нашим предыдущим примером, чтобы анимировать все возможные изменения нашего списка!</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.14.1/lodash.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"list-complete-demo"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"shuffle"</span>&gt;</span>Перемешать<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"add"</span>&gt;</span>Добавить<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"remove"</span>&gt;</span>Удалить<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">transition-group</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"list-complete"</span> <span class="hljs-attr">tag</span>=<span class="hljs-string">"p"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>
      <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in items"</span>
      <span class="hljs-attr">v-bind:key</span>=<span class="hljs-string">"item"</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"list-complete-item"</span>
    &gt;</span>
      &#123;&#123; item &#125;&#125;
    <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">transition-group</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#list-complete-demo'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">items</span>: [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>],
    <span class="hljs-attr">nextNum</span>: <span class="hljs-number">10</span>
  &#125;,
  <span class="hljs-attr">methods</span>: &#123;
    <span class="hljs-attr">randomIndex</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-keyword">this</span>.items.length)
    &#125;,
    <span class="hljs-attr">add</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
      <span class="hljs-keyword">this</span>.items.splice(<span class="hljs-keyword">this</span>.randomIndex(), <span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.nextNum++)
    &#125;,
    <span class="hljs-attr">remove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
      <span class="hljs-keyword">this</span>.items.splice(<span class="hljs-keyword">this</span>.randomIndex(), <span class="hljs-number">1</span>)
    &#125;,
    <span class="hljs-attr">shuffle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
      <span class="hljs-keyword">this</span>.items = _.shuffle(<span class="hljs-keyword">this</span>.items)
    &#125;
  &#125;
&#125;)</code></pre>
<pre><code class="hljs css"><span class="hljs-selector-class">.list-complete-item</span> &#123;
  <span class="hljs-attribute">transition</span>: all <span class="hljs-number">1s</span>;
  <span class="hljs-attribute">display</span>: inline-block;
  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">10px</span>;
&#125;
<span class="hljs-selector-class">.list-complete-enter</span>, <span class="hljs-selector-class">.list-complete-leave-to</span>
<span class="hljs-comment">/* .list-complete-leave-active до версии 2.1.8 */</span> &#123;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(30px);
&#125;
<span class="hljs-selector-class">.list-complete-leave-active</span> &#123;
  <span class="hljs-attribute">position</span>: absolute;
&#125;</code></pre>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.14.1/lodash.min.js"></script>
<div id="list-complete-demo" class="demo">
  <button v-on:click="shuffle">Перемешать</button>
  <button v-on:click="add">Добавить</button>
  <button v-on:click="remove">Удалить</button>
  <transition-group name="list-complete" tag="p">
    <span v-for="item in items" :key="item" class="list-complete-item">
      {{ item }}
    </span>
  </transition-group>
</div>
<script>
new Vue({
  el: '#list-complete-demo',
  data: {
    items: [1,2,3,4,5,6,7,8,9],
    nextNum: 10
  },
  methods: {
    randomIndex: function () {
      return Math.floor(Math.random() * this.items.length)
    },
    add: function () {
      this.items.splice(this.randomIndex(), 0, this.nextNum++)
    },
    remove: function () {
      this.items.splice(this.randomIndex(), 1)
    },
    shuffle: function () {
      this.items = _.shuffle(this.items)
    }
  }
})
</script>
<style>
.list-complete-item {
  transition: all 1s;
  display: inline-block;
  margin-right: 10px;
}
.list-complete-enter, .list-complete-leave-to {
  opacity: 0;
  transform: translateY(30px);
}
.list-complete-leave-active {
  position: absolute;
}
</style>

<p class="tip">Важно знать, что FLIP-анимации не работают с элементами, для которых установлен режим позиционирования <code>display: inline</code>. Вместо него используйте режим <code>display: inline-block</code> или flex-контейнер.</p>

<p>FLIP-анимации не ограничены одной осью. Многомерные массивы могут быть анимированы <a href="https://jsfiddle.net/chrisvfritz/sLrhk1bc/" target="_blank" rel="noopener">столь же просто</a>:</p>

<div id="sudoku-demo" class="demo">
  <strong>Ленивое судоку</strong>
  <p>Продолжайте перемешивать, пока случайно не выиграете.</p>
  <button @click="shuffle">
    Перемешать
  </button>
  <transition-group name="cell" tag="div" class="sudoku-container">
    <div v-for="cell in cells" :key="cell.id" class="cell">
      {{ cell.number }}
    </div>
  </transition-group>
</div>
<script>
new Vue({
  el: '#sudoku-demo',
  data: {
    cells: Array.apply(null, { length: 81 })
      .map(function (_, index) {
        return {
          id: index,
          number: index % 9 + 1
        }
      })
  },
  methods: {
    shuffle: function () {
      this.cells = _.shuffle(this.cells)
    }
  }
})
</script>
<style>
.sudoku-container {
  display: flex;
  flex-wrap: wrap;
  width: 238px;
  margin-top: 10px;
}
.cell {
  display: flex;
  justify-content: space-around;
  align-items: center;
  width: 25px;
  height: 25px;
  border: 1px solid #aaa;
  margin-right: -1px;
  margin-bottom: -1px;
}
.cell:nth-child(3n) {
  margin-right: 0;
}
.cell:nth-child(27n) {
  margin-bottom: 0;
}
.cell-move {
  transition: transform 1s;
}
</style>

<h3 id="Упругая-анимация-элементов-списка"><a href="transitions_4.html#Упругая-анимация-элементов-списка" class="headerlink" title="Упругая анимация элементов списка"></a>Упругая анимация элементов списка</h3><p>Настраивая JavaScript-переходы через data-атрибуты возможно также организовать упругую анимацию списка:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"staggered-list-demo"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"query"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">transition-group</span>
    <span class="hljs-attr">name</span>=<span class="hljs-string">"staggered-fade"</span>
    <span class="hljs-attr">tag</span>=<span class="hljs-string">"ul"</span>
    <span class="hljs-attr">v-bind:css</span>=<span class="hljs-string">"false"</span>
    <span class="hljs-attr">v-on:before-enter</span>=<span class="hljs-string">"beforeEnter"</span>
    <span class="hljs-attr">v-on:enter</span>=<span class="hljs-string">"enter"</span>
    <span class="hljs-attr">v-on:leave</span>=<span class="hljs-string">"leave"</span>
  &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>
      <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, index) in computedList"</span>
      <span class="hljs-attr">v-bind:key</span>=<span class="hljs-string">"item.msg"</span>
      <span class="hljs-attr">v-bind:data-index</span>=<span class="hljs-string">"index"</span>
    &gt;</span>&#123;&#123; item.msg &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">transition-group</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#staggered-list-demo'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">query</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">list</span>: [
      &#123; <span class="hljs-attr">msg</span>: <span class="hljs-string">'Брюс Ли'</span> &#125;,
      &#123; <span class="hljs-attr">msg</span>: <span class="hljs-string">'Джеки Чан'</span> &#125;,
      &#123; <span class="hljs-attr">msg</span>: <span class="hljs-string">'Чак Норрис'</span> &#125;,
      &#123; <span class="hljs-attr">msg</span>: <span class="hljs-string">'Джет Ли'</span> &#125;,
      &#123; <span class="hljs-attr">msg</span>: <span class="hljs-string">'Кунг Фьюри'</span> &#125;
    ]
  &#125;,
  <span class="hljs-attr">computed</span>: &#123;
    <span class="hljs-attr">computedList</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
      <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">this</span>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.list.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>&#123;
        <span class="hljs-keyword">return</span> item.msg.toLowerCase().indexOf(vm.query.toLowerCase()) !== <span class="hljs-number">-1</span>
      &#125;)
    &#125;
  &#125;,
  <span class="hljs-attr">methods</span>: &#123;
    <span class="hljs-attr">beforeEnter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;
      el.style.opacity = <span class="hljs-number">0</span>
      el.style.height = <span class="hljs-number">0</span>
    &#125;,
    <span class="hljs-attr">enter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, done</span>) </span>&#123;
      <span class="hljs-keyword">var</span> delay = el.dataset.index * <span class="hljs-number">150</span>
      setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
        Velocity(
          el,
          &#123; <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'1.6em'</span> &#125;,
          &#123; <span class="hljs-attr">complete</span>: done &#125;
        )
      &#125;, delay)
    &#125;,
    <span class="hljs-attr">leave</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, done</span>) </span>&#123;
      <span class="hljs-keyword">var</span> delay = el.dataset.index * <span class="hljs-number">150</span>
      setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
        Velocity(
          el,
          &#123; <span class="hljs-attr">opacity</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">0</span> &#125;,
          &#123; <span class="hljs-attr">complete</span>: done &#125;
        )
      &#125;, delay)
    &#125;
  &#125;
&#125;)</code></pre>

<script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js"></script>
<div id="example-5" class="demo">
  <input v-model="query">
  <transition-group name="staggered-fade" tag="ul" v-bind:css="false" v-on:before-enter="beforeEnter" v-on:enter="enter" v-on:leave="leave">
    <li v-for="(item, index) in computedList" v-bind:key="item.msg" v-bind:data-index="index">{{ item.msg }}</li>
  </transition-group>
</div>
<script>
new Vue({
  el: '#example-5',
  data: {
    query: '',
    list: [
      { msg: 'Брюс Ли' },
      { msg: 'Джеки Чан' },
      { msg: 'Чак Норрис' },
      { msg: 'Джет Ли' },
      { msg: 'Кунг Фьюри' }
    ]
  },
  computed: {
    computedList: function () {
      var vm = this
      return this.list.filter(function (item) {
        return item.msg.toLowerCase().indexOf(vm.query.toLowerCase()) !== -1
      })
    }
  },
  methods: {
    beforeEnter: function (el) {
      el.style.opacity = 0
      el.style.height = 0
    },
    enter: function (el, done) {
      var delay = el.dataset.index * 150
      setTimeout(function () {
        Velocity(
          el,
          { opacity: 1, height: '1.6em' },
          { complete: done }
        )
      }, delay)
    },
    leave: function (el, done) {
      var delay = el.dataset.index * 150
      setTimeout(function () {
        Velocity(
          el,
          { opacity: 0, height: 0 },
          { complete: done }
        )
      }, delay)
    }
  }
})
</script>

<h2 id="Повторное-использование-анимированных-переходов"><a href="transitions_4.html#Повторное-использование-анимированных-переходов" class="headerlink" title="Повторное использование анимированных переходов"></a>Повторное использование анимированных переходов</h2><p>Анимация переходов может быть переиспользована благодаря компонентной системе Vue. Всё, что необходимо сделать — это поместить компонент <code>&lt;transition&gt;</code> или <code>&lt;transition-group&gt;</code> в корне компонента, а затем передать в этот компонент потомков.</p>
<p>Пример с использованием компонента со строковым шаблоном:</p>
<pre><code class="hljs js">Vue.component(<span class="hljs-string">'my-special-transition'</span>, &#123;
  <span class="hljs-attr">template</span>: <span class="hljs-string">'\
    &lt;transition\
      name="very-special-transition"\
      mode="out-in"\
      v-on:before-enter="beforeEnter"\
      v-on:after-enter="afterEnter"\
    &gt;\
      &lt;slot&gt;&lt;/slot&gt;\
    &lt;/transition&gt;\
  '</span>,
  <span class="hljs-attr">methods</span>: &#123;
    <span class="hljs-attr">beforeEnter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;
      <span class="hljs-comment">// ...</span>
    &#125;,
    <span class="hljs-attr">afterEnter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;
      <span class="hljs-comment">// ...</span>
    &#125;
  &#125;
&#125;)</code></pre>
<p>Особенно хорошо для этих целей подходят <a href="render-function_3.html#Функциональные-компоненты">функциональные компоненты</a>:</p>
<pre><code class="hljs js">Vue.component(<span class="hljs-string">'my-special-transition'</span>, &#123;
  <span class="hljs-attr">functional</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement, context</span>) </span>&#123;
    <span class="hljs-keyword">var</span> data = &#123;
      <span class="hljs-attr">props</span>: &#123;
        <span class="hljs-attr">name</span>: <span class="hljs-string">'very-special-transition'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-string">'out-in'</span>
      &#125;,
      <span class="hljs-attr">on</span>: &#123;
        <span class="hljs-attr">beforeEnter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;
          <span class="hljs-comment">// ...</span>
        &#125;,
        <span class="hljs-attr">afterEnter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;
          <span class="hljs-comment">// ...</span>
        &#125;
      &#125;
    &#125;
    <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'transition'</span>, data, context.children)
  &#125;
&#125;)</code></pre>
<h2 id="Динамические-переходы"><a href="transitions_4.html#Динамические-переходы" class="headerlink" title="Динамические переходы"></a>Динамические переходы</h2><p>Да, даже анимационные переходы во Vue управляются данными! Простейший пример — связывание атрибута <code>name</code> с динамическим свойством.</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">transition</span> <span class="hljs-attr">v-bind:name</span>=<span class="hljs-string">"transitionName"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- ... --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span></code></pre>
<p>Может пригодиться, если вы определили CSS-переходы или анимации, используя принятые во Vue соглашения об именовании классов, и просто хотите переключаться между ними.</p>
<p>На самом деле, любой атрибут может быть динамически связан. И речь не только об атрибутах. Поскольку хуки — это просто методы, у них есть доступ ко всем данным в текущем контексте, а значит и JavaScript-анимации могут зависеть от состояния компонента.</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dynamic-fade-demo"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo"</span>&gt;</span>
  Fade In: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"range"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"fadeInDuration"</span> <span class="hljs-attr">min</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">v-bind:max</span>=<span class="hljs-string">"maxFadeDuration"</span>&gt;</span>
  Fade Out: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"range"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"fadeOutDuration"</span> <span class="hljs-attr">min</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">v-bind:max</span>=<span class="hljs-string">"maxFadeDuration"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">transition</span>
    <span class="hljs-attr">v-bind:css</span>=<span class="hljs-string">"false"</span>
    <span class="hljs-attr">v-on:before-enter</span>=<span class="hljs-string">"beforeEnter"</span>
    <span class="hljs-attr">v-on:enter</span>=<span class="hljs-string">"enter"</span>
    <span class="hljs-attr">v-on:leave</span>=<span class="hljs-string">"leave"</span>
  &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"show"</span>&gt;</span>привет<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">transition</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
    <span class="hljs-attr">v-if</span>=<span class="hljs-string">"stop"</span>
    <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"stop = false; show = false"</span>
  &gt;</span>Запустить анимацию<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
    <span class="hljs-attr">v-else</span>
    <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"stop = true"</span>
  &gt;</span>Остановить анимацию<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#dynamic-fade-demo'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">show</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">fadeInDuration</span>: <span class="hljs-number">1000</span>,
    <span class="hljs-attr">fadeOutDuration</span>: <span class="hljs-number">1000</span>,
    <span class="hljs-attr">maxFadeDuration</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-attr">stop</span>: <span class="hljs-literal">true</span>
  &#125;,
  <span class="hljs-attr">mounted</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
    <span class="hljs-keyword">this</span>.show = <span class="hljs-literal">false</span>
  &#125;,
  <span class="hljs-attr">methods</span>: &#123;
    <span class="hljs-attr">beforeEnter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;
      el.style.opacity = <span class="hljs-number">0</span>
    &#125;,
    <span class="hljs-attr">enter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, done</span>) </span>&#123;
      <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">this</span>
      Velocity(el,
        &#123; <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span> &#125;,
        &#123;
          <span class="hljs-attr">duration</span>: <span class="hljs-keyword">this</span>.fadeInDuration,
          <span class="hljs-attr">complete</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
            done()
            <span class="hljs-keyword">if</span> (!vm.stop) vm.show = <span class="hljs-literal">false</span>
          &#125;
        &#125;
      )
    &#125;,
    <span class="hljs-attr">leave</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, done</span>) </span>&#123;
      <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">this</span>
      Velocity(el,
        &#123; <span class="hljs-attr">opacity</span>: <span class="hljs-number">0</span> &#125;,
        &#123;
          <span class="hljs-attr">duration</span>: <span class="hljs-keyword">this</span>.fadeOutDuration,
          <span class="hljs-attr">complete</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
            done()
            vm.show = <span class="hljs-literal">true</span>
          &#125;
        &#125;
      )
    &#125;
  &#125;
&#125;)</code></pre>

<script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js"></script>
<div id="dynamic-fade-demo" class="demo">
  Fade In: <input type="range" v-model="fadeInDuration" min="0" v-bind:max="maxFadeDuration">
  Fade Out: <input type="range" v-model="fadeOutDuration" min="0" v-bind:max="maxFadeDuration">
  <transition v-bind:css="false" v-on:before-enter="beforeEnter" v-on:enter="enter" v-on:leave="leave">
    <p v-if="show">привет</p>
  </transition>
  <button v-if="stop" v-on:click="stop = false; show = false">Запустить анимацию</button>
  <button v-else="" v-on:click="stop = true">Остановить анимацию</button>
</div>
<script>
new Vue({
  el: '#dynamic-fade-demo',
  data: {
    show: true,
    fadeInDuration: 1000,
    fadeOutDuration: 1000,
    maxFadeDuration: 1500,
    stop: true
  },
  mounted: function () {
    this.show = false
  },
  methods: {
    beforeEnter: function (el) {
      el.style.opacity = 0
    },
    enter: function (el, done) {
      var vm = this
      Velocity(el,
        { opacity: 1 },
        {
          duration: this.fadeInDuration,
          complete: function () {
            done()
            if (!vm.stop) vm.show = false
          }
        }
      )
    },
    leave: function (el, done) {
      var vm = this
      Velocity(el,
        { opacity: 0 },
        {
          duration: this.fadeOutDuration,
          complete: function () {
            done()
            vm.show = true
          }
        }
      )
    }
  }
})
</script>

<p>Наконец, ещё больше возможностей для создания динамических переходов появляется, если создать компоненты, принимающие входные параметры, определяющие природу используемых переходов. Звучит избито, но всё равно — здесь всё ограничено только вашим воображением.</p>

    
    
      <div class="guide-links">
        
        
          <span>← <a href="components-edge-cases_4.html">Обработка крайних случаев</a></span>
        
        
        
          <span style="float: right;"><a href="transitioning-state_5.html">Анимирование переходов между состояниями</a> →</span>
        
      </div>
    
    <div class="footer">
        <script src="../../js/" type="text/javascript"></script>
<div class="bsa-cpc"></div>
<script>
  (function(){
    if(typeof _bsa !== 'undefined' && _bsa) {
    _bsa.init('default', 'CKYD62QM', 'placement:vuejsorg', {
      target: '.bsa-cpc',
      align: 'horizontal',
      disable_css: 'true'
    });
      }
  })();
</script>

      Обнаружили ошибку или хотите добавить что-то своё в документацию?
      <a href="https://github.com/translation-gang/ru.vuejs.org/blob/master/src/v2/guide/transitions.md" target="_blank">
        Отредактируйте эту страницу на GitHub!
      </a>
    </div>
</div>

                
            </div>
            <script src="https://ru.vuejs.org/js/smooth-scroll.min.js"></script>
        

        <!-- main custom script for sidebars, version selects etc. -->
        <script src="https://ru.vuejs.org/js/css.escape.js"></script>
        <script src="https://ru.vuejs.org/js/common.js"></script>

        <!-- search -->
        <link href="" rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://ru.vuejs.org/css/search.css">
        <script src=""></script>
        <script>
        [
          '#search-query-nav',
          '#search-query-sidebar',
          '#search-query-menu'
        ].forEach(function (selector) {
          if (!document.querySelector(selector)) return
          // search index defaults to v2
          var match = window.location.pathname.match(/^\/(v\d+)/)
          var version = match ? match[1] : 'v2'
          docsearch({
            appId: 'BH4D9OD16A',
            apiKey: 'c6f9366f6f7fe057ee3e01747b603d9f',
            indexName: 'vuejs_ru',
            inputSelector: selector,
            algoliaOptions: { facetFilters: ["version:" + version] },
            autocompleteOptions: { hint: false, appendTo: 'body'}
          })
        })
        </script>

        <!-- fastclick -->
        <script src=""></script>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
          FastClick.attach(document.body)
        }, false)
        </script>
    </body>
</html>
